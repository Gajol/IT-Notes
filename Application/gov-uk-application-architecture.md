# GOV UK 

[Architecture Overview of Applications](https://docs.publishing.service.gov.uk/manual/architecture.html)

https://insidegovuk.blog.gov.uk/2021/01/07/the-technical-architecture-behind-a-gov-uk-account/


## Patterns
https://design-system.service.gov.uk/patterns/task-list-pages/

## Front-End 
https://github.com/alphagov/govuk-frontend

[Deploying to Production](https://github.com/alphagov/govuk-design-system/blob/main/docs/deployment/production.md):

- a static site generated by [Metalsmith](https://metalsmith.io/): An extremely simple, pluggable static site generator for NodeJS.

- [GOV UK decomming the PaaS](https://gds.blog.gov.uk/2022/07/12/why-weve-decided-to-decommission-gov-uk-paas-platform-as-a-service/)
GOV.UK PaaS was set up in 2015, to help public sector organisations quickly and securely host their digital services without worrying about infrastructure. However, 7 years is a long time in tech and things have changed. The big cloud providers (AWS, Azure, GCP and others) have upped their game and reduced the barriers to entry for digital teams. Over the same period departments have built better and more expert in-house cloud engineering capability, and are (broadly) clustering around a Kubernetes based architecture.

This means continuing to invest in GOV.UK Notify, GOV.UK Pay, the GOV.UK Design System, and the Prototype Kit, as well as building new platforms like the new GOV.UK Forms product.

- hosting: [migrating from GOV.UK PaaS](https://www.cloud.service.gov.uk/migration-guidance/)
  - **Awesome**:  This [migration document](https://www.cloud.service.gov.uk/migration-guidance/#assess-your-security-needs) has much information on Cloud in terms of PaaS, buildpacks, container registry:
   - AWS ACM (AWS Certificate Manager)
   - Log Drains: [Cloud Foundry Log Drains](https://docs.cloudfoundry.org/devguide/services/log-management.html): Streaming application logs to log management services. 

- UK GDS (Government Digital Services) is similar to Canada's Canada Digital Services. 
  - [GOV UK Design System](https://design-system.service.gov.uk/). Alternate ways include using a self managed ELK stack, Logit.io and Papertrail are some examples used by our tenants but other solutions are available.
    - [Logit.io](https://logit.io/): Observability build on OpenSearch
    - [Papertrail](https://www.papertrail.com/): Cloud hosted log management

[Recommended Assistive Technologies](https://www.gov.uk/service-manual/technology/testing-with-assistive-technologies#which-assistive-technologies-to-test-with)
- JAWS
- NVDA
- TalkBck
- VoiceOver on iOS
- Windows Magnifier
- Dragon

## Content 
Content Data API: https://docs.publishing.service.gov.uk/repos/content-data-api.html
- [Data warehouse](https://github.com/alphagov/content-data-api/blob/main/docs/data-warehouse-what-and-why.md)  that stores content and content metrics to help content owners measure and improve content on GOV.UK.   Long term vision of DW *Give departments the data they need, at the point they need it so that they can
manage their GOV.UK content at scale over time.*
- uses [Sentry.io](https://sentry.io/welcome/): API monitoring


## Search 

[Search API - Rummager](https://github.com/alphagov/search-api)
- Elasticsearch 
- Publisher -> Publishing API -> queue -> ingested by Search-API
	- https://github.com/alphagov/search-api/blob/main/docs/content_overview.md
- search ranking (tensorflow) https://github.com/alphagov/search-api/blob/main/docs/learning-to-rank.md
- relevency: https://github.com/alphagov/search-api/blob/main/docs/relevancy.md
- curve: http://wiki.apache.org/solr/FunctionQuery#recip


Search API (née "rummager") indexes content into Elasticsearch and serves the GOV.UK Search API.

GOV.UK applications use the API to search and filter GOV.UK content. For example, alphagov/finder-frontend uses the search API to render site search and finder pages (such as gov.uk/aaib-reports).
 
Examples
- Site Search: https://www.gov.uk/search
- Finder Pages - Air Accidents Reports https://www.gov.uk/aaib-reports
- Open API: https://www.gov.uk/api/search.json?q=taxes

Search API is a Sinatra application that interfaces with Elasticsearch.

You can use the GOV.UK Docker environment to run the application and its tests with all the necessary dependencies. Follow the usage instructions to get started.

# Sinatra
Sinatra: Ruby https://en.wikipedia.org/wiki/Sinatra_(software) 

Sinatra is a free and open source software web application library and domain-specific language[2] written in Ruby. It is an alternative to other Ruby web application frameworks such as Ruby on Rails, Merb, Nitro, and Camping. It is dependent on the Rack web server interface. It is named after musician Frank Sinatra.[3]

Designed and developed by Blake Mizerany, Sinatra is small and flexible. It does not follow the typical model–view–controller pattern used in other frameworks, such as Ruby on Rails. Instead, Sinatra focuses on "quickly creating web-applications in Ruby with minimal effort."[4] Because of much smaller size compared to Ruby on Rails, it is also called microframework


# Rails - Conventions
https://docs.publishing.service.gov.uk/manual/conventions-for-rails-applications.html

[Roadmap for Digital and Data - 2022-2025](https://www.gov.uk/government/publications/roadmap-for-digital-and-data-2022-to-2025)


# UK CDDO - Central Digital and Data Office 
https://cddo.blog.gov.uk/




# Cloud Security Guidance 
https://www.ncsc.gov.uk/collection/cloud


# Skills

[DevOps Engineer](https://www.gov.uk/guidance/development-operations-devops-engineer) from [Civil Service Jobs](https://www.civilservicejobs.service.gov.uk/csr/index.cgi)

[GDS Blog](https://gds.blog.gov.uk/)


# Architecture 

[Service Manual](https://www.gov.uk/service-manual)
 - Accessiblity and Assisted Digital 
 - Agile Delivery
 - Design 
	- [Creating an Experience Map](https://www.gov.uk/service-manual/user-research/creating-an-experience-map)
 - Measuring Success 
 - Service assessments and applying the Service Standard
 - Technology 
 - [The Team](https://www.gov.uk/service-manual/the-team)
 - [User Research](https://www.gov.uk/service-manual/user-research/researching-user-experiences)

https://www.gov.uk/service-manual/technology


# Gov.UK PaaS 

- https://docs.cloud.service.gov.uk/: decommissioning the service, with a planned retirement date of 23 December 2023

- [How GOV.UK PaaS meets the NCSC Cloud Security Principles](https://www.cloud.service.gov.uk/cloud-security-principles/)
